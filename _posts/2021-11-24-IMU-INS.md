---
layout: post
read_time: true
show_date: true
title: "IMU 센서 테스트 / IMU sensor test!"
date: 2021-11-24
img: posts/20211124/20220225_100802_xsens-MTi-630.jpg # 
tags: [imu, labview, ins, AHRS]
category: imu
author: Ybbaek
description: "제조사별 IMU 특성 비교 테스트"
---
## IMU 테스트
다양한 제조사의 IMU(AHRS) 제품에 대한 비교 테스트 후기
XSENS MTi-630, VectorNav VN-100, SBG Ellipse-D, Ntrex MW-AHRSv1

### 상세설명
자율주행 AGV 에 적용되는 IMU(AHRS) 는 AGV 의 Heading 값을 측정 및 적용하기 위해 사용합니다.
다양한 값들이 있지만 (Accelerometer, Magnitude, yaw/pitch/roll) 그 중에서 yaw 값을 위주로 heading 값으로 적용하여 사용합니다.

![Field](./assets/img/posts/20211124/SBG_Ellipse-D_simple-dual-antenna.jpg)
<small>[SBG Ellipse-D] INS 센서 및 Dual antenna 테스트 화면.</small>
![RLMap-prj](./assets/img/posts/20210902/SBG_Ellipse-D_scout-mini.jpg)
<small>[RLMap-prj] 실제 AGV 로봇에 장착하여 heading 값으로 적용.</small>

### IMU sensor calibration
![GPS 관련 소프트웨어](./assets/img/posts/20211124/log.jpg)
<small>[log file] 주행후 로그파일을 분석하여 경로확인 및 평가.</small>
IMU 센서 제조사들 마다 각 센서별 calibration 방법 및 프로그램을 제공하고 있으며, 최적의 동작 및 동작중 drift offset 의 누적오차 등을 최소화 하기 위해서는 calibration 을 진행하는 것이 바람직 하며 실제 마운팅한 AGV (robot) 상태에서 진행하여 노이즈나 환경의 상황에서 진행하는 것이 바람직 합니다.

### heading offset 보정 로직
![ robot](./assets/img/posts/20211124/left.jpg)
<small>[Map provider] ex) Street4U 화면.</small>
GPS 의 이동 궤적을 바탕으로 AGV 혹은 robot 의 heading 을 계산하여 imu yaw 값을 보정하여 진북 값을 보정하여 주행로직에 반영.

### 부가기능
![SRC hw option](./assets/img/posts/20211124/trailer.jpg)
<small>[SRC history] 모바일 로봇에 별도의 trailer 를 추가장착한 사진.</small>
트레일러를 추가하여 배터리 확장을 비롯한 추가 장비나 물품을 실을 수 있음.

### 검토기능
![The Next SRC](./assets/img/posts/20211124/laser.jpg)
<small>[The Next SRC](https://github.com/yunbum/SRC) 추가 장착레이져.</small>
참고로 산업용 레이져를 추가하여 직진성, 라이다 감지거리 등을 확인하여 테스트 할 수 있도록 하였 추가 검토 중 입니다.

### 응용
![cartpole](./assets/img/posts/20211124/offroad-2.jpg)
<small>다양한 목적의 위치표시 </small>
자율주행에 의한 모니터링 이외에도 간단한 잡초제거, 대기질 측정, 방역 등의 기능으로 응용이 될 수 있습니다.